# .github/workflows/deploy.yml
name: üõ†Ô∏è Deploy to GitHub Pages

on:
  push:
    branches:
      - main    # –∏–ª–∏ master, –æ—Ç–∫—É–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å –±–∏–ª–¥
  workflow_dispatch:

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0          # –ø–æ–ª–Ω—ã–π —Ä–µ–±–µ–π–∑, –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –ø—É—à–∞ –≤ gh-pages

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '22'

      - name: Install dependencies
        run: npm ci

      - name: Build for production
        run: npm run build

      - name: Deploy to gh-pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./dist
          publish_branch: gh-pages
          # –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –∞–≤—Ç–æ—Ä–æ–º –∫–æ–º–º–∏—Ç–∞:
          user_name: 'github-actions[bot]'
          user_email: 'github-actions[bot]@users.noreply.github.com'